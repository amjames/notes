Currently, my PR for expanding the PyTorch python component-level logging
system to C++ has a problem where it's always formatting strings to create
the logging message, even if the message will not actually be emitted because
its log level is lower than the current setting for its component.




I've thought a little more about this. Right now, the log generated by a `TORCH_LOG(...)` macro call always gets sent from C++ to Python, and then the Python logging system is in charge of filtering it out if its log level is too low.

The only way I can think of to avoid formatting messages that will not end up being emitted is to move the filtering step down to C++. The C++ side would need to track the log levels of each registered component. That would just require `torch._logging._internal.set_logs` to call some CPython bound function to update the C++ side with the log level state every time it changes.

The C++ side filtering step would be more than just a single integer comparison though. It would be a map lookup to find the log level setting of the specified component and then an integer comparison. In the case where the log is filtered out, this would be much faster than it is currently--especially considering that we'd avoid the overhead of emitting the log from C++ to Python.

Does that sound good? I don't know of any better way to do this

